# Text Input Examples for Wait Times

## User-Friendly Wait Time Input

The wait time input now accepts natural text formats that are automatically parsed and validated.

## Supported Formats

### Basic Formats

| User Input | Parsed As | Stored As (ms) | Description |
|------------|-----------|----------------|-------------|
| `2.5` | 2.5s | 2500 | Decimal seconds (implicit) |
| `2.5s` | 2.5s | 2500 | Decimal seconds (explicit) |
| `1` | 1.0s | 1000 | Integer seconds |
| `1s` | 1.0s | 1000 | Integer seconds (explicit) |
| `0.5` | 0.5s | 500 | Half second |
| `0.5s` | 0.5s | 500 | Half second (explicit) |

### Milliseconds

| User Input | Parsed As | Stored As (ms) | Description |
|------------|-----------|----------------|-------------|
| `500ms` | 0.5s | 500 | Milliseconds (explicit) |
| `1000ms` | 1.0s | 1000 | Milliseconds |
| `2500 ms` | 2.5s | 2500 | Milliseconds (with space) |
| `100ms` | 0.1s | 100 | Minimum precision |

### Verbose Formats

| User Input | Parsed As | Stored As (ms) | Description |
|------------|-----------|----------------|-------------|
| `1 second` | 1.0s | 1000 | Singular |
| `2.5 seconds` | 2.5s | 2500 | Plural |
| `1 sec` | 1.0s | 1000 | Abbreviated |
| `2 secs` | 2.0s | 2000 | Abbreviated plural |

## Validation Messages

### Range Validation

**Input below minimum:**
```
User types: "0.05s"
Message: "Minimum wait time is 0.1s (100ms). Adjusted from 0.05s."
Value set: 0.1s (100ms)
```

**Input above maximum:**
```
User types: "45s"
Message: "Maximum wait time is 30s. Adjusted from 45s."
Value set: 30s (30000ms)
```

### Precision Rounding

**Input with extra precision:**
```
User types: "2.54s"
Rounded to: 2.5s
No message (automatic rounding)
```

```
User types: "2.56s"
Rounded to: 2.6s
No message (automatic rounding)
```

### Invalid Format

**Unrecognized format:**
```
User types: "two seconds"
Message: "Invalid format. Examples: '2.5', '2.5s', '500ms', '1 second'"
Value: Not updated (keeps current)
```

**Empty input:**
```
User clears field
Result: Keeps current value
No error message
```

## UI Behavior

### Edit Mode Flow

```
1. User clicks on wait time field
   ??> Field shows current value: "2.5s"
   ??> Helper text: "Click to edit"

2. User types "500ms"
   ??> Field updates as they type
   ??> Validation happens in real-time
   ??> No error (valid input)

3. User presses Enter or clicks away
   ??> Value parsed: 500ms ? 0.5s
   ??> Stored as: 500ms
   ??> Field displays: "0.5s"
   ??> Helper text returns

4. If user types "0.05s"
   ??> Warning appears immediately
   ??> "Minimum wait time is 0.1s (100ms)..."
   ??> Value auto-adjusted to 0.1s
   ??> Warning visible for 3 seconds
```

### Keyboard Shortcuts

| Key | Action |
|-----|--------|
| Enter | Save and close edit mode |
| Escape | Cancel and revert to original |
| Tab | Save and move to next field |

## Visual Examples

### Action Sequence View

```
???????????????????????????????????????????
? Action Sequence                         ?
???????????????????????????????????????????
? 1. Wait   wait: [2.5s         ]  ?????  ?
?           Click to edit               ?
?                                         ?
? 2. Action A1                      ?????  ?
?                                         ?
? 3. Wait   wait: [0.5s         ]  ?????  ?
?           Click to edit               ?
???????????????????????????????????????????
```

### While Editing (Valid)

```
???????????????????????????????????????????
? 1. Wait   wait: [500ms_       ]  ?????  ?
?           ? Valid                     ?
???????????????????????????????????????????
```

### While Editing (Invalid)

```
???????????????????????????????????????????
? 1. Wait   wait: [0.05s_       ]  ?????  ?
?           ? Minimum wait time is       ?
?           0.1s (100ms). Adjusted.      ?
???????????????????????????????????????????
```

### After Edit (Adjusted)

```
???????????????????????????????????????????
? 1. Wait   wait: [0.1s         ]  ?????  ?
?           Click to edit               ?
???????????????????????????????????????????
```

## Manage Actions Modal

Similar behavior in configuration modal:

```
???????????????????????????????????????????
? Configure Action Groups                 ?
???????????????????????????????????????????
? ??  Wait                                 ?
?  ?? W    Wait                           ?
?  ?   Configuration Fields:              ?
?  ?   Key Name   Type    Default Value   ?
?  ?   waitTime   Number  [2.5s     ] ???  ?
?  ?                      Click to edit   ?
???????????????????????????????????????????
```

## Conversion Examples

### User Journey: Setting 2.5 Second Wait

```
STEP 1: User Input
????????????????
? Types: "2.5" ?
????????????????
       ?
STEP 2: Parse
????????????????????????????
? parseWaitTimeText("2.5") ?
? ? { value: 2.5, error: null } ?
????????????????????????????
       ?
STEP 3: Convert
????????????????????????????
? parseWaitTime(2.5)       ?
? ? 2500 milliseconds      ?
????????????????????????????
       ?
STEP 4: Store
????????????????????????????
? action.config.waitTime   ?
? = 2500                   ?
????????????????????????????
       ?
STEP 5: Display
????????????????????????????
? formatWaitTimeForDisplay ?
? (2500) ? "2.5s"          ?
????????????????????????????
       ?
STEP 6: Encode QR
????????????????????????????
? formatWaitTime(2500)     ?
? ? "2.5"                  ?
? QR: "...W2.5..."         ?
????????????????????????????
```

### User Journey: Setting 500ms Wait

```
STEP 1: User Input
??????????????????
? Types: "500ms" ?
??????????????????
       ?
STEP 2: Parse
????????????????????????????????
? parseWaitTimeText("500ms")   ?
? ? { value: 0.5, error: null }?
????????????????????????????????
       ?
STEP 3: Convert
????????????????????????????
? parseWaitTime(0.5)       ?
? ? 500 milliseconds       ?
????????????????????????????
       ?
STEP 4: Store
????????????????????????????
? action.config.waitTime   ?
? = 500                    ?
????????????????????????????
       ?
STEP 5: Display
????????????????????????????
? formatWaitTimeForDisplay ?
? (500) ? "0.5s"           ?
????????????????????????????
       ?
STEP 6: Encode QR
????????????????????????????
? formatWaitTime(500)      ?
? ? "0.5"                  ?
? QR: "...W0.5..."         ?
????????????????????????????
```

## Error Handling

### Out of Range (Below Minimum)

```javascript
Input: "50ms"
Parse: { value: 0.1, error: "Minimum wait time is 0.1s (100ms). Adjusted from 0.05s." }
Store: 100ms
Display: "0.1s" with warning message
```

### Out of Range (Above Maximum)

```javascript
Input: "60s"
Parse: { value: 30, error: "Maximum wait time is 30s. Adjusted from 60s." }
Store: 30000ms
Display: "30s" with warning message
```

### Invalid Format

```javascript
Input: "abc"
Parse: { value: null, error: "Invalid format. Examples: '2.5', '2.5s', '500ms', '1 second'" }
Store: No change (keeps current value)
Display: Error message, field highlighted red
```

## Benefits

? **Natural Input**: Type what feels natural ("2.5s", "500ms")  
? **Flexible Formats**: Supports many different formats  
? **Auto-Validation**: Real-time feedback as you type  
? **Auto-Correction**: Out-of-range values adjusted automatically  
? **Clear Errors**: Helpful messages explain what went wrong  
? **No Spinners**: No fiddly number input arrows  
? **Fast Editing**: Type and press Enter, done!  

## Comparison: Old vs New

### Old (Number Input)

```
???????????????????????????????????????
? Wait   seconds: [2.5]  ?  ?????     ?
?                  ?? Spinner arrows  ?
???????????????????????????????????????

Problems:
? Must click tiny arrows multiple times
? Hard to type exact decimal (cursor position)
? Unclear if input is seconds or milliseconds
? No validation messages
? No format flexibility
```

### New (Text Input)

```
???????????????????????????????????????
? Wait   wait: [2.5s         ]  ?????  ?
?              Click to edit          ?
???????????????????????????????????????

Benefits:
? Type "2.5s" or "500ms" naturally
? Clear units shown in display
? Validation with helpful messages
? Multiple format support
? Auto-correction for out-of-range
? Keyboard shortcuts (Enter, Esc)
```

## Implementation Notes

- Text input uses `type="text"` (not `type="number"`)
- Parsing happens on blur (when field loses focus)
- Real-time validation shows errors as user types
- Value only updated if parsing succeeds
- Empty input keeps current value (doesn't reset)
- Warnings auto-dismiss after 3 seconds
- Similar to start position input UX pattern
